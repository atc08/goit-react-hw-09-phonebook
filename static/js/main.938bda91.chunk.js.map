{"version":3,"sources":["redux/phonebook/phonebook-actions.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.module.scss","components/AuthNav/AuthNav.module.scss","redux/auth/auth-reducer.js","components/UserMenu/UserMenu.module.scss","redux/auth/auth-actions.js","components/Container/Container.js","components/AppBar/AppBar.module.scss","components/Container/Container.module.scss","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js"],"names":["fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","token","headers","common","Authorization","signUp","credentials","dispatch","a","signUpRequest","post","response","data","signUpSuccess","signUpError","message","logIn","logInRequest","logInSuccess","logInError","logOut","logOutRequest","logOutSuccess","logOutError","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","getIsAuthenticated","state","getUserName","user","name","module","exports","initialUserState","email","createReducer","_","payload","error","isAuthenticated","combineReducers","Container","children","className","Navigation","isLoggedIn","useSelector","exact","to","s","link","activeClassName","activeLink","UserMenu","useDispatch","onLogout","useCallback","container","type","onClick","AuthNav","AppBar","header","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","HomeView","lazy","SignUpView","LoginView","ContactsView","App","useEffect","fallback","path","contacts","filter","id","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","phonebook","phonebookReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.938bda91.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\nexport const fetchContactError = createAction('contacts/fetchContactError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const changeFilter = createAction('phonebook/changeFilter');\n","import axios from 'axios';\nimport {\n  signUpRequest,\n  signUpSuccess,\n  signUpError,\n  logInRequest,\n  logInSuccess,\n  logInError,\n  logOutRequest,\n  logOutSuccess,\n  logOutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst signUp = credentials => async dispatch => {\n  dispatch(signUpRequest());\n\n  try {\n    const response = await axios.post('/users/signup', credentials);\n\n    token.set(response.data.token);\n    dispatch(signUpSuccess(response.data));\n  } catch (error) {\n    dispatch(signUpError(error.message));\n  }\n};\n\nconst logIn = credentials => async dispatch => {\n  dispatch(logInRequest());\n\n  try {\n    const response = await axios.post('/users/login', credentials);\n    token.set(response.data.token);\n\n    dispatch(logInSuccess(response.data));\n  } catch (error) {\n    dispatch(logInError(error.message));\n  }\n};\n\nconst logOut = () => async dispatch => {\n  dispatch(logOutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(logOutSuccess());\n  } catch (error) {\n    dispatch(logOutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n\n  dispatch(getCurrentUserRequest());\n\n  try {\n    const response = await axios.get('/users/login');\n    token.set(response.data.token);\n\n    dispatch(getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(getCurrentUserError(error.message));\n  }\n};\n\nexport { signUp, logIn, logOut, getCurrentUser };\n","const getIsAuthenticated = state => state.auth.getIsAuthenticated;\n\nconst getUserName = state => state.auth.user.name;\n\nexport { getIsAuthenticated, getUserName };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3w54b\",\"activeLink\":\"Navigation_activeLink__bpDsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1OVZC\",\"activeLink\":\"AuthNav_activeLink__1nC_P\"};","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  signUpSuccess,\n  signUpError,\n  logInSuccess,\n  logInError,\n  logOutSuccess,\n  logOutError,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n} from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [signUpSuccess]: (_, { payload }) => payload.user,\n  [logInSuccess]: (_, { payload }) => payload.user,\n  [logOutSuccess]: () => initialUserState,\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [signUpSuccess]: (_, { payload }) => payload.token,\n  [logInSuccess]: (_, { payload }) => payload.token,\n  [logOutSuccess]: () => null,\n});\n\nconst error = createReducer(null, {\n  [signUpError]: (_, { payload }) => payload,\n  [logInError]: (_, { payload }) => payload,\n  [logOutError]: (_, { payload }) => payload,\n  [getCurrentUserError]: (_, { payload }) => payload,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [signUpSuccess]: () => true,\n  [logInSuccess]: () => true,\n  [getCurrentUserSuccess]: () => true,\n  [signUpError]: () => false,\n  [logInError]: () => false,\n  [getCurrentUserError]: () => false,\n  [logOutSuccess]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  isAuthenticated,\n  token,\n  error,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1dFxJ\",\"name\":\"UserMenu_name__3dACr\"};","import { createAction } from '@reduxjs/toolkit';\n\nconst signUpRequest = createAction('auth/registerRequest');\nconst signUpSuccess = createAction('auth/registerSuccess');\nconst signUpError = createAction('auth/registerError');\n\nconst logInRequest = createAction('auth/loginRequest');\nconst logInSuccess = createAction('auth/loginSuccess');\nconst logInError = createAction('auth/loginError');\n\nconst logOutRequest = createAction('auth/logoutRequest');\nconst logOutSuccess = createAction('auth/logoutSuccess');\nconst logOutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\n// eslint-disable-next-line\nexport {\n  signUpRequest,\n  signUpSuccess,\n  signUpError,\n  logInRequest,\n  logInSuccess,\n  logInError,\n  logOutRequest,\n  logOutSuccess,\n  logOutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import React from 'react';\nimport './Container.module.scss';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__2vtGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3O6E_\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport s from './Navigation.module.scss';\nimport { getIsAuthenticated } from '../../redux/auth';\n\nfunction Navigation() {\n  const isLoggedIn = useSelector(getIsAuthenticated);\n\n  return (\n    <nav>\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\n        Main\n      </NavLink>\n\n      {isLoggedIn && (\n        <NavLink\n          exact\n          to=\"/contacts\"\n          className={s.link}\n          activeClassName={s.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React, { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUserName, logOut } from '../../redux/auth';\nimport s from './UserMenu.module.scss';\n\nfunction UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(getUserName);\n\n  const onLogout = useCallback(() => {\n    dispatch(logOut());\n  }, [dispatch]);\n\n  return (\n    <div className={s.container}>\n      <span className={s.name}>Welcome, {name}</span>\n      <button type=\"button\" onClick={onLogout}>\n        LogOut\n      </button>\n    </div>\n  );\n}\n\nexport default UserMenu;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.scss';\n\nconst AuthNav = () => (\n  <div>\n    <NavLink\n      exact\n      to=\"/signup\"\n      className={s.link}\n      activeClassName={s.activeLink}\n    >\n      SignUp\n    </NavLink>\n    <NavLink\n      exact\n      to=\"/login\"\n      className={s.link}\n      activeClassName={s.activeLink}\n    >\n      LogIn\n    </NavLink>\n  </div>\n);\n\nexport default AuthNav;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Navigation from '../Navigation';\nimport UserMenu from '../UserMenu';\nimport AuthNav from '../AuthNav';\nimport { getIsAuthenticated } from '../../redux/auth';\nimport s from './AppBar.module.scss';\n\nfunction AppBar() {\n  const isLoggedIn = useSelector(getIsAuthenticated);\n  return (\n    <header className={s.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n\nexport default AppBar;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getIsAuthenticated } from '../redux/auth';\n\nfunction PrivateRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getIsAuthenticated } from '../redux/auth';\n\nfunction PublicRoute({ isAuthenticated, redirectTo, children, ...routeProps }) {\n  const isLoggedIn = useSelector(getIsAuthenticated);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        children\n      )}\n    </Route>\n  );\n}\n\nexport default PublicRoute;\n","import React, { Suspense, lazy, useEffect } from 'react';\nimport { Switch } from 'react-router-dom';\nimport Container from './components/Container';\nimport AppBar from './components/AppBar';\nimport { getCurrentUser } from './redux/auth';\nimport { useDispatch } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\n//done\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"home-page\" */),\n);\nconst SignUpView = lazy(() =>\n  import('./views/SignUpView' /* webpackChunkName: \"home-page\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"home-page\" */),\n);\nconst ContactsView = lazy(() =>\n  import('./views/ContactsView' /* webpackChunkName: \"home-page\" */),\n);\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n\n      <Suspense fallback={<h2>Loading...</h2>}>\n        <Switch>\n          <PublicRoute exact path=\"/\">\n            <HomeView />\n          </PublicRoute>\n          <PublicRoute path=\"/signup\" redirectTo=\"/contacts\" restricted>\n            <SignUpView />\n          </PublicRoute>\n          <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n            <LoginView />\n          </PublicRoute>\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </Container>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n} from './phonebook-actions';\n\nconst contacts = createReducer([], {\n  [fetchContactSuccess]: (_, { payload }) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst loading = createReducer(false, {\n  [fetchContactRequest]: () => true,\n  [fetchContactSuccess]: () => false,\n  [fetchContactError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  contacts,\n  filter,\n  loading,\n  error,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport phonebookReducer from './phonebook/phonebook-reducer';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n  logger,\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    phonebook: phonebookReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport { store, persistor } from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}